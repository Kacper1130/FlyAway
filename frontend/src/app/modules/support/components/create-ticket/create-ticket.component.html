<!-- create-ticket.component.html -->
<app-new-navbar></app-new-navbar>
<div class="create-ticket-container">
  <div class="form-card">
    <div class="form-header">
      <h1>Create New Support Ticket</h1>
      <p>Please provide details about your issue</p>
    </div>

    <form [formGroup]="ticketForm" (ngSubmit)="onSubmit()" class="ticket-form">
      <div class="form-group">
        <label for="title">
          Title
          <span class="required">*</span>
        </label>
        <input
          id="title"
          type="text"
          formControlName="title"
          placeholder="Brief description of your issue"
          [class.error]="title?.invalid "
        >
        <div class="error-message" *ngIf="title?.invalid">
          <span *ngIf="title?.errors?.['required']">Title is required</span>
          <span *ngIf="title?.errors?.['minlength']">Title must be at least 5 characters</span>
          <span *ngIf="title?.errors?.['maxlength']">Title must not exceed 100 characters</span>
        </div>
      </div>

      <div class="form-group">
        <label for="message">
          Message
          <span class="required">*</span>
        </label>
        <textarea
          id="message"
          formControlName="message"
          rows="6"
          placeholder="Detailed description of your issue"
          [class.error]="message?.invalid"
        ></textarea>
        <div class="error-message" *ngIf="message?.invalid">
          <span *ngIf="message?.errors?.['required']">Message is required</span>
          <span *ngIf="message?.errors?.['minlength']">Message must be at least 20 characters</span>
          <span *ngIf="message?.errors?.['maxlength']">Message must not exceed 1000 characters</span>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" class="cancel-btn" (click)="cancel()">
          <i class="fas fa-times"></i>
          Cancel
        </button>
        <button
          type="submit"
          class="submit-btn"
          [disabled]="ticketForm.invalid"
        >
          <i class="fas fa-paper-plane"></i>
          Submit Ticket
        </button>
      </div>
    </form>
  </div>
</div>
